<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Candidato - JobPortal</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-slate-50 to-white min-h-screen text-slate-800">

<div th:replace="fragments/navbarCandidato :: navbarCandidato"></div>

<div class="max-w-6xl mx-auto px-6 py-10">
    <h1 class="text-3xl font-bold mb-8">Panel de Control - Candidato</h1>

    <div th:if="${aplicado}" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-5">
        <span>Postulacion registrada exitosamente, su paso a seguir es esperar contacto por parte de la empresa o hacer el seguimiento en "Mis Postulaciones"</span>
    </div>

    <form action="#" method="get"
          class="grid md:grid-cols-4 gap-4 bg-white/90 backdrop-blur rounded-xl border border-blue-100 p-6 shadow-lg mb-12">
        <div>
            <label class="block text-sm font-medium text-slate-600 mb-1">ğŸ” TÃ­tulo de vacante</label>
            <input type="text" name="titulo" placeholder="Ej. Desarrollador React"
                   class="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
            <label class="block text-sm font-medium text-slate-600 mb-1">ğŸ¢ Empresa</label>
            <input type="text" name="empresa" placeholder="Ej. TechCorp"
                   class="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
            <label class="block text-sm font-medium text-slate-600 mb-1">ğŸ“ UbicaciÃ³n</label>
            <input type="text" name="ubicacion" placeholder="Remoto, BogotÃ¡..."
                   class="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
            <label class="block text-sm font-medium text-slate-600 mb-1">âš™ï¸ Modalidad</label>
            <select name="modalidad"
                    class="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500">
                <option value="">Todas</option>
                <option value="remoto">Remoto</option>
                <option value="presencial">Presencial</option>
                <option value="hibrido">HÃ­brido</option>
            </select>
        </div>
        <div class="md:col-span-4 flex justify-end mt-2">
            <button type="submit"
                    class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg font-medium shadow-md hover:shadow-lg transition">
                ğŸ” Buscar
            </button>
        </div>
    </form>

    <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">ğŸ” Empleos Disponibles</h2>

    <div class="grid gap-6 mb-12">

        <div th:each="vacante : ${vacantes}" class="bg-white/90 backdrop-blur border border-blue-100 rounded-xl p-6 shadow-lg">
            <div class="flex justify-between mb-4">
                <div>
                    <h3 class="text-lg font-semibold" th:text="${vacante.titulo}"></h3>
                    <p class="text-blue-600 font-medium" th:text="${vacante.empresa.nombre}"></p>
                </div>
            </div>
            <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-4 text-slate-600 text-sm mb-4">
                <div class="flex items-center gap-2">ğŸ’° <span th:text="${vacante.salario}"></span></div>
                <div class="flex items-center gap-2">ğŸ  <span th:text="${vacante.modalidad}"></span></div>
                <div class="flex items-center gap-2">ğŸ“… <span th:text="'Publicado: ' + ${vacante.fechaCreacion}"></span></div>
                <div class="flex items-center gap-2">â° <span th:text="${vacante.jornada}"></span></div>
            </div>
            <div class="flex gap-3 flex-wrap">
                <form th:action="@{/candidatos/postularme}" method="post">
                    <input type="hidden" name="idCandidato" th:value="${idCandidato}"/>
                    <input type="hidden" name="idVacante" th:value="${vacante.idVacante}"/>
                    <button type="submit" class="px-4 py-2 rounded-lg text-white bg-gradient-to-r from-blue-500 to-blue-700 font-medium text-sm shadow hover:shadow-lg">
                        ğŸ“ Postularme
                    </button>
                </form>
                <a th:href="@{/candidatos/ver-detalle(id=${vacante.idVacante})}" class="px-4 py-2 rounded-lg text-blue-600 bg-blue-50 border border-blue-200 font-medium text-sm hover:bg-blue-100">ğŸ‘ï¸ Ver Detalles</a>
            </div>
        </div>

    <div class="flex justify-center items-center gap-4">
        <button class="px-4 py-2 rounded-lg border border-blue-200 bg-blue-50 text-blue-600 font-medium hover:bg-blue-100">
            â¬…ï¸ Anterior
        </button>
        <span class="text-sm text-slate-600">PÃ¡gina 1 de 10</span>
        <button class="px-4 py-2 rounded-lg border border-blue-200 bg-blue-50 text-blue-600 font-medium hover:bg-blue-100">
            Siguiente â¡ï¸
        </button>
    </div>
</div>
</body>
</html>